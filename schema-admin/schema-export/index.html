<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schema Export - Report.AI</title>
    <link rel="stylesheet" href="../../context/creative-docs/design-tokens.css">
    <link rel="stylesheet" href="../admin-fixes.css">
    <link rel="stylesheet" href="../admin-nav.css">
    <link rel="stylesheet" href="../schema-design-system.css">
    <link rel="stylesheet" href="../admin-styles.css">
</head>
<body class="has-admin-nav">
    <div class="admin-container">
        <!-- Header -->
        <header class="page-header">
            <div class="header-content">
                <div class="page-title-section">
                    <h1 class="page-title">Schema Export & Import</h1>
                    <p class="page-subtitle">Export, import, and backup your schema configurations</p>
                </div>
            </div>
        </header>

        <div class="admin-layout">
            <!-- Main Content -->
            <main class="admin-main">
                <div class="export-import-grid">
                    <!-- Export Section -->
                    <div class="overview-card">
                        <h2 class="form-section-title">Export Schema</h2>
                        <p class="card-description">Download your current schema configuration as a JSON file</p>
                        
                        <div class="export-options">
                            <div class="export-option">
                                <h3>Complete Schema</h3>
                                <p>Export everything: products, subproducts, connections, tables, and configurations</p>
                                <button id="export-complete-btn" class="admin-btn primary">
                                    <span class="icon">üì§</span> Export Complete Schema
                                </button>
                            </div>
                            
                            <div class="export-option">
                                <h3>Products Only</h3>
                                <p>Export only product configurations and tables</p>
                                <button id="export-products-btn" class="admin-btn secondary">
                                    <span class="icon">üì¶</span> Export Products
                                </button>
                            </div>
                            
                            <div class="export-option">
                                <h3>Legacy Format</h3>
                                <p>Export in the old csv-headers.json format for compatibility</p>
                                <button id="export-legacy-btn" class="admin-btn secondary">
                                    <span class="icon">üîÑ</span> Export Legacy Format
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Import Section -->
                    <div class="overview-card">
                        <h2 class="form-section-title">Import Schema</h2>
                        <p class="card-description">Load schema configurations from a JSON file</p>
                        
                        <div class="import-options">
                            <div class="import-option">
                                <h3>Import Complete Schema</h3>
                                <p>Replace current schema with imported configuration</p>
                                <input type="file" id="import-complete-input" accept=".json" class="file-input">
                                <button id="import-complete-btn" class="admin-btn primary">
                                    <span class="icon">üì•</span> Import Schema File
                                </button>
                            </div>
                            
                            <div class="import-option">
                                <h3>Merge Import</h3>
                                <p>Merge imported schema with existing configuration</p>
                                <input type="file" id="import-merge-input" accept=".json" class="file-input">
                                <button id="import-merge-btn" class="admin-btn secondary">
                                    <span class="icon">üîÑ</span> Merge Schema File
                                </button>
                            </div>
                            
                            <div class="import-option">
                                <h3>Import Legacy Format</h3>
                                <p>Convert and import old csv-headers.json files</p>
                                <input type="file" id="import-legacy-input" accept=".json" class="file-input">
                                <button id="import-legacy-btn" class="admin-btn secondary">
                                    <span class="icon">üîÑ</span> Import Legacy File
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Backup & Restore Section -->
                    <div class="overview-card">
                        <h2 class="form-section-title">Backup & Restore</h2>
                        <p class="card-description">Manage automatic backups and restore points</p>
                        
                        <div class="backup-controls">
                            <button id="create-backup-btn" class="admin-btn primary">
                                <span class="icon">üíæ</span> Create Backup
                            </button>
                            <button id="auto-backup-btn" class="admin-btn secondary">
                                <span class="icon">‚è∞</span> Schedule Backup
                            </button>
                        </div>
                        
                        <div id="backup-history" class="backup-history">
                            <!-- Backup history will be populated here -->
                        </div>
                    </div>

                    <!-- Status & Logs Section -->
                    <div class="overview-card">
                        <h2 class="form-section-title">Operation Status</h2>
                        <div id="operation-status" class="operation-status">
                            <p class="status-message">Ready for import/export operations</p>
                        </div>
                        
                        <div id="operation-logs" class="operation-logs">
                            <!-- Operation logs will appear here -->
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="../admin-nav.js"></script>
    <script src="schema-export.js"></script>
</body>
</html>